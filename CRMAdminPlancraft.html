<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM Architecture Proposal | Plancraft</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --plancraft-green: #00C896;
            --plancraft-green-dark: #00A67A;
            --plancraft-green-light: #E6FBF5;
            --plancraft-green-subtle: #F0FDF9;
            --dark: #1A1A2E;
            --dark-secondary: #2D2D44;
            --gray-50: #FAFAFA;
            --gray-100: #F5F5F7;
            --gray-200: #E8E8ED;
            --gray-400: #9999A8;
            --gray-600: #666677;
            --gray-800: #333344;
            --white: #FFFFFF;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; overflow: hidden; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--gray-50); color: var(--dark); line-height: 1.7; font-size: 15px; }
        .page { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow-y: auto; opacity: 0; visibility: hidden; transition: all 0.3s ease; z-index: 1; }
        .page.active { opacity: 1; visibility: visible; z-index: 10; }
        .welcome-page { background: linear-gradient(145deg, var(--dark) 0%, #252542 50%, var(--dark-secondary) 100%); display: flex; align-items: center; justify-content: center; }
        .welcome-content { text-align: center; z-index: 1; max-width: 720px; padding: 2rem; }
        .welcome-badge { display: inline-block; background: rgba(0, 200, 150, 0.12); border: 1px solid rgba(0, 200, 150, 0.25); color: var(--plancraft-green); padding: 0.5rem 1.25rem; border-radius: 50px; font-size: 0.8rem; font-weight: 600; letter-spacing: 0.75px; margin-bottom: 2rem; text-transform: uppercase; }
        .welcome-title { font-size: 3rem; font-weight: 800; color: var(--white); margin-bottom: 1rem; letter-spacing: -1.5px; line-height: 1.1; }
        .welcome-title span { background: linear-gradient(135deg, var(--plancraft-green) 0%, #00E5A0 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .welcome-subtitle { font-size: 1.15rem; color: var(--gray-400); margin-bottom: 2rem; }
        .welcome-team-img { max-width: 100%; height: auto; margin-bottom: 2rem; border-radius: 16px; opacity: 0.95; }
        .welcome-thank-you { background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 16px; padding: 1.5rem 2rem; margin-bottom: 2rem; color: var(--gray-400); font-size: 0.95rem; }
        .welcome-thank-you strong { color: var(--white); }
        .btn-start { display: inline-flex; align-items: center; gap: 0.75rem; background: var(--plancraft-green); color: var(--dark); padding: 1rem 2.25rem; border-radius: 50px; font-size: 0.95rem; font-weight: 700; cursor: pointer; border: none; box-shadow: 0 8px 32px rgba(0, 200, 150, 0.3); transition: all 0.3s ease; }
        .btn-start:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(0, 200, 150, 0.4); }
        .hub-page { background: var(--gray-50); }
        .hub-header { background: var(--white); border-bottom: 1px solid var(--gray-200); padding: 1rem 2rem; position: sticky; top: 0; z-index: 100; }
        .hub-header-inner { max-width: 1100px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .hub-logo { font-size: 1.1rem; font-weight: 700; color: var(--dark); }
        .hub-logo span { color: var(--plancraft-green); }
        .hub-nav-btn { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 1px solid var(--gray-200); border-radius: 8px; background: var(--white); color: var(--gray-600); font-size: 0.85rem; font-weight: 500; cursor: pointer; }
        .hub-container { max-width: 1100px; margin: 0 auto; padding: 2rem; }
        .exec-section { background: var(--white); border-radius: 16px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04); }
        .exec-section h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1.25rem; color: var(--dark); }
        .exec-highlight { background: linear-gradient(135deg, var(--plancraft-green-subtle) 0%, var(--plancraft-green-light) 100%); border-left: 4px solid var(--plancraft-green); padding: 1.25rem 1.5rem; border-radius: 0 12px 12px 0; margin-bottom: 1.5rem; }
        .assumptions-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; color: var(--dark); }
        .assumptions-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .assumption-box { padding: 1.25rem; border-radius: 12px; }
        .assumption-box.made { background: linear-gradient(135deg, var(--plancraft-green-subtle) 0%, var(--plancraft-green-light) 100%); border: 1px solid rgba(0, 200, 150, 0.15); }
        .assumption-box.validate { background: linear-gradient(135deg, #F0FDFA 0%, #CCFBF1 100%); border: 1px solid rgba(13, 148, 136, 0.15); }
        .assumption-box h4 { font-size: 0.9rem; font-weight: 600; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem; }
        .assumption-box.made h4 { color: var(--plancraft-green-dark); }
        .assumption-box.validate h4 { color: #0D9488; }
        .assumption-box ul { margin: 0; padding-left: 1.25rem; font-size: 0.85rem; }
        .assumption-box.made li { color: var(--plancraft-green-dark); margin-bottom: 0.35rem; }
        .assumption-box.validate li { color: #0F766E; margin-bottom: 0.35rem; }
        .cards-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
        .task-card { background: var(--white); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease; border: 1px solid var(--gray-200); position: relative; overflow: hidden; }
        .task-card:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08); border-color: var(--plancraft-green); }
        .task-card-number { display: inline-block; background: var(--plancraft-green-light); color: var(--plancraft-green-dark); padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.75rem; font-weight: 600; margin-bottom: 0.75rem; }
        .task-card h3 { font-size: 1.1rem; font-weight: 700; color: var(--dark); margin-bottom: 0.5rem; }
        .task-card p { font-size: 0.9rem; color: var(--gray-600); margin: 0; }
        .detail-page { background: var(--gray-50); }
        .detail-header { background: var(--white); border-bottom: 1px solid var(--gray-200); padding: 1rem 2rem; position: sticky; top: 0; z-index: 100; }
        .detail-header-inner { max-width: 900px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .detail-back { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 1px solid var(--gray-200); border-radius: 8px; background: var(--white); color: var(--gray-600); font-size: 0.85rem; cursor: pointer; }
        .detail-nav { display: flex; gap: 0.5rem; }
        .detail-nav button { width: 36px; height: 36px; border: 1px solid var(--gray-200); border-radius: 8px; background: var(--white); color: var(--gray-600); cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .detail-nav button:disabled { opacity: 0.4; cursor: not-allowed; }
        .detail-container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        .detail-content { background: var(--white); border-radius: 16px; padding: 2.5rem; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04); }
        .detail-badge { display: inline-block; background: var(--plancraft-green-light); color: var(--plancraft-green-dark); padding: 0.35rem 1rem; border-radius: 50px; font-size: 0.8rem; font-weight: 600; margin-bottom: 1rem; }
        .detail-title { font-size: 2rem; font-weight: 800; color: var(--dark); margin-bottom: 0.75rem; letter-spacing: -0.5px; }
        .detail-subtitle { font-size: 1.05rem; color: var(--gray-600); margin-bottom: 2rem; }
        .section-assumptions { background: linear-gradient(135deg, var(--plancraft-green-subtle) 0%, var(--plancraft-green-light) 100%); border: 1px solid rgba(0, 200, 150, 0.15); border-radius: 12px; padding: 1.25rem 1.5rem; margin-bottom: 2rem; }
        .section-assumptions h4 { color: var(--plancraft-green-dark); font-size: 0.9rem; font-weight: 600; margin-bottom: 0.75rem; }
        .section-assumptions ul { margin: 0; padding-left: 1.25rem; font-size: 0.85rem; color: var(--plancraft-green-dark); }
        .section-assumptions li { margin-bottom: 0.35rem; }
        .content-section { margin-bottom: 2.5rem; }
        .content-section h3 { font-size: 1.2rem; font-weight: 700; color: var(--dark); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--plancraft-green); display: inline-block; }
        .content-section h4 { font-size: 1rem; font-weight: 600; color: var(--dark-secondary); margin: 1.25rem 0 0.75rem; }
        .content-section p { margin-bottom: 1rem; color: var(--gray-600); }
        .content-section ul { color: var(--gray-600); padding-left: 1.5rem; margin-bottom: 1rem; }
        .content-section li { margin-bottom: 0.5rem; }
        .content-table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.9rem; }
        .content-table th { background: var(--dark); color: var(--white); padding: 0.85rem 1rem; text-align: left; font-weight: 600; }
        .content-table th:first-child { border-radius: 8px 0 0 0; }
        .content-table th:last-child { border-radius: 0 8px 0 0; }
        .content-table td { padding: 0.85rem 1rem; border-bottom: 1px solid var(--gray-200); color: var(--gray-600); vertical-align: top; }
        code { background: var(--gray-100); padding: 0.15rem 0.4rem; border-radius: 4px; font-family: monospace; font-size: 0.85em; }
        .code-dark { background: var(--dark); color: #00FF88; padding: 0.2rem 0.5rem; border-radius: 4px; font-family: monospace; font-size: 0.8rem; }
        .insight-box { background: var(--dark); color: var(--white); padding: 1.25rem 1.5rem; border-radius: 12px; margin: 1.5rem 0; font-size: 0.95rem; }
        .insight-box strong { color: var(--plancraft-green); }
        .hub-footer { text-align: center; padding: 2rem; color: var(--gray-400); font-size: 0.85rem; }
        @media (max-width: 768px) { .assumptions-grid, .cards-grid { grid-template-columns: 1fr; } .welcome-title { font-size: 2.25rem; } }
    </style>
</head>
<body>
    <div class="page welcome-page active" id="welcome">
        <div class="welcome-content">
            <div class="welcome-badge">Senior CRM Manager Challenge</div>
            <h1 class="welcome-title">Scalable CRM Architecture<br>for <span>Plancraft</span></h1>
            <p class="welcome-subtitle">Global consistency with local flexibility — designed for multi-market expansion</p>
            <img src="https://plancraft.de/hubfs/New%20Sales%20Page/Team%20Sales.webp" alt="Plancraft Team" class="welcome-team-img" onerror="this.style.display='none'">
            <div class="welcome-thank-you">
                <strong>Thank you for your time.</strong><br>
                I've designed this architecture with Plancraft's unique context in mind: a high-volume, PLG-led motion serving tradespeople across Europe. The core philosophy is <strong>"less office, more craft"</strong> — applied to CRM operations.
            </div>
            <button class="btn-start" onclick="showPage('hub')">View Proposal →</button>
            <p style="margin-top: 2rem; color: var(--gray-400); font-size: 0.85rem;">Created by <strong style="color: var(--white);">Vaja Gogitidze</strong></p>
        </div>
    </div>

    <div class="page hub-page" id="hub">
        <header class="hub-header">
            <div class="hub-header-inner">
                <div class="hub-logo">Plan<span>craft</span> Proposal</div>
                <button class="hub-nav-btn" onclick="showPage('welcome')">← Back</button>
            </div>
        </header>
        <div class="hub-container">
            <section class="exec-section">
                <h2>Global Assumptions</h2>
                <div class="exec-highlight">
                    <p><strong>Architecture Philosophy:</strong> This CRM architecture is designed to be scalable but pragmatic. If any assumption changes, the architecture has clear evolution paths.</p>
                </div>
                <h3 class="assumptions-title">Core Assumptions</h3>
                <div class="assumptions-grid">
                    <div class="assumption-box made">
                        <h4>✓ Business & GTM Assumptions</h4>
                        <ul>
                            <li>Plancraft is a PLG-led B2B SaaS with optional sales-assisted conversions</li>
                            <li>Customers purchase as a business entity, even if sole tradespeople</li>
                            <li>One company typically has one active subscription at a time</li>
                            <li>Sales processes are fundamentally similar across European markets</li>
                            <li>Expansion is primarily CS-led, not sales-led</li>
                            <li>Executive reporting prioritizes clarity and consistency</li>
                        </ul>
                    </div>
                    <div class="assumption-box validate">
                        <h4>✓ Technical Assumptions</h4>
                        <ul>
                            <li>HubSpot Enterprise is available (permissions, workflows, Ops Hub)</li>
                            <li>Stripe is the system of record for billing and MRR</li>
                            <li>Product database is the system of record for subscription state</li>
                            <li>Product and Stripe data can sync to HubSpot at least daily</li>
                            <li>Intercom is the primary support tool and can sync CSAT data</li>
                            <li>External orchestration (Make.com / Ops Hub) is available</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section>
                <div class="cards-grid">
                    <div class="task-card" onclick="showPage('part1')">
                        <span class="task-card-number">Part 1</span>
                        <h3>Object Model & Sources of Truth</h3>
                        <p>Company-centric design. No custom objects. Clear system boundaries.</p>
                    </div>
                    <div class="task-card" onclick="showPage('part2')">
                        <span class="task-card-number">Part 2</span>
                        <h3>Market & Localization Strategy</h3>
                        <p>Single global pipeline. Properties over pipelines. Prevent fragmentation.</p>
                    </div>
                    <div class="task-card" onclick="showPage('part3')">
                        <span class="task-card-number">Part 3</span>
                        <h3>Automation & AI</h3>
                        <p>Churn risk detection. Expansion opportunity surfacing. Human-in-the-loop.</p>
                    </div>
                    <div class="task-card" onclick="showPage('part4')">
                        <span class="task-card-number">Part 4</span>
                        <h3>Data Governance & Scale</h3>
                        <p>Naming conventions. Workflow governance. Experimentation framework.</p>
                    </div>
                </div>
            </section>
            <footer class="hub-footer">Press ESC to return to overview from any section</footer>
        </div>
    </div>

    <div class="page detail-page" id="part1">
        <header class="detail-header">
            <div class="detail-header-inner">
                <button class="detail-back" onclick="showPage('hub')">← Back to Overview</button>
                <div class="detail-nav">
                    <button disabled>←</button>
                    <button onclick="showPage('part2')">→</button>
                </div>
            </div>
        </header>
        <div class="detail-container">
            <div class="detail-content">
                <span class="detail-badge">Part 1 of 4</span>
                <h1 class="detail-title">Object Model & Sources of Truth</h1>
                <p class="detail-subtitle">Company-centric design. No custom objects. Clear system boundaries.</p>
                
                <div class="section-assumptions">
                    <h4>✓ Part 1 Assumptions</h4>
                    <ul>
                        <li>One company corresponds to one active product workspace</li>
                        <li>Subscription complexity is limited to plan, billing cadence, and seat types</li>
                        <li>Full invoice-level or event-level history is not required in HubSpot v1</li>
                        <li>HubSpot's role is coordination and action, not billing or analytics</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>How Part 1 Works</h3>
                    <p>The CRM is designed as a <strong>company-centric system</strong>. HubSpot acts as the operational layer between Sales, CS, Marketing, and Leadership — not as the product or billing system.</p>
                    <p>Each system owns the data it is best suited to manage. HubSpot stores summarized, actionable state, not raw transactional data.</p>
                </div>

                <div class="content-section">
                    <h3>Final Object Model</h3>
                    <h4>Core Objects</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Object</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Company</strong></td>
                                <td>Central account record and operational hub</td>
                            </tr>
                            <tr>
                                <td><strong>Contact</strong></td>
                                <td>Individual users and decision-makers</td>
                            </tr>
                            <tr>
                                <td><strong>Deal</strong></td>
                                <td>Human-assisted revenue opportunities only</td>
                            </tr>
                        </tbody>
                    </table>
                    <p><strong>No custom objects</strong> are introduced in the initial architecture.</p>
                </div>

                <div class="content-section">
                    <h3>Sources of Truth</h3>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Data Type</th>
                                <th>System of Record</th>
                                <th>HubSpot Stores</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Business identity</td>
                                <td>HubSpot</td>
                                <td>Company record</td>
                            </tr>
                            <tr>
                                <td>Subscription plan & seats</td>
                                <td>Product DB</td>
                                <td>Current state summary</td>
                            </tr>
                            <tr>
                                <td>Billing & MRR</td>
                                <td>Stripe</td>
                                <td>Normalized MRR</td>
                            </tr>
                            <tr>
                                <td>Individual usage</td>
                                <td>Product DB</td>
                                <td>Last login, role</td>
                            </tr>
                            <tr>
                                <td>Aggregated usage</td>
                                <td>Product DB</td>
                                <td>Usage summaries</td>
                            </tr>
                            <tr>
                                <td>Support & CSAT</td>
                                <td>Intercom</td>
                                <td>Latest scores</td>
                            </tr>
                            <tr>
                                <td>Revenue opportunities</td>
                                <td>HubSpot</td>
                                <td>Deals</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="insight-box">
                        <strong>Principle:</strong> HubSpot stores what teams need to act — not everything that exists.
                    </div>
                </div>

                <div class="content-section">
                    <h3>Subscription Identity & Change Awareness</h3>
                    <p>Although subscription data is not modeled as a custom object, subscription identity is explicitly tracked.</p>
                    
                    <h4>Required Immutable Identifiers (Company)</h4>
                    <ul>
                        <li><code>stripe_customer_id</code></li>
                        <li><code>stripe_subscription_id</code></li>
                        <li><code>product_workspace_id</code></li>
                    </ul>

                    <h4>Change Awareness Fields</h4>
                    <ul>
                        <li><code>last_plan_change_at</code></li>
                        <li><code>last_seat_change_at</code></li>
                        <li><code>last_billing_cycle_change_at</code></li>
                    </ul>

                    <p><strong>This enables:</strong></p>
                    <ul>
                        <li>Auditability</li>
                        <li>Reliable churn and expansion analysis</li>
                        <li>A clean migration path to a future Subscription object if required</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>Deal Strategy</h3>
                    <p>Deals represent intentional, human-assisted revenue moments only:</p>
                    <ul>
                        <li><strong>New Business</strong> (sales-assisted)</li>
                        <li><strong>Expansion</strong> (CS-assisted)</li>
                    </ul>
                    <p><strong>Pure self-serve upgrades do not automatically create Deals.</strong></p>
                </div>
            </div>
        </div>
    </div>

    <div class="page detail-page" id="part2">
        <header class="detail-header">
            <div class="detail-header-inner">
                <button class="detail-back" onclick="showPage('hub')">← Back to Overview</button>
                <div class="detail-nav">
                    <button onclick="showPage('part1')">←</button>
                    <button onclick="showPage('part3')">→</button>
                </div>
            </div>
        </header>
        <div class="detail-container">
            <div class="detail-content">
                <span class="detail-badge">Part 2 of 4</span>
                <h1 class="detail-title">Market & Localization Strategy</h1>
                <p class="detail-subtitle">Single global pipeline. Properties over pipelines. Prevent fragmentation.</p>
                
                <div class="section-assumptions">
                    <h4>✓ Part 2 Assumptions</h4>
                    <ul>
                        <li>Sales methodology is consistent across markets</li>
                        <li>Market differences are legal, linguistic, and operational, not procedural</li>
                        <li>Expansion into new countries will be incremental</li>
                        <li>Legal and tax requirements vary by billing country</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>How Part 2 Works</h3>
                    <p><strong>Market complexity is handled through properties and permissions, not pipelines.</strong> This prevents fragmentation while allowing local execution.</p>
                </div>

                <div class="content-section">
                    <h3>Market Modeling</h3>
                    <h4>Core Market Properties (Company)</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>[Global] Market</code></td>
                                <td>Operational routing</td>
                            </tr>
                            <tr>
                                <td><code>[Global] Market Region</code></td>
                                <td>Strategic reporting</td>
                            </tr>
                            <tr>
                                <td><code>[Global] Billing Country</code></td>
                                <td>Legal & tax rules</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="content-section">
                    <h3>Language Handling</h3>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Object</th>
                                <th>Source</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>[Global] Company Language</code></td>
                                <td>Company</td>
                                <td>Derived from market</td>
                            </tr>
                            <tr>
                                <td><code>[Global] Preferred Language</code></td>
                                <td>Contact</td>
                                <td>Product (app setting)</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Default communication follows company language unless overridden.</p>
                </div>

                <div class="content-section">
                    <h3>Market-Specific Legal Properties</h3>
                    <p>Market-specific fields use internal prefixes for governance and user-facing labels for clarity.</p>
                    
                    <h4>Example</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Internal Name</th>
                                <th>Display Label</th>
                                <th>Visible When</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>m_de_vat_number</code></td>
                                <td>[DE] VAT Number</td>
                                <td>Billing Country = DE</td>
                            </tr>
                            <tr>
                                <td><code>m_at_uid_number</code></td>
                                <td>[AT] UID Number</td>
                                <td>Billing Country = AT</td>
                            </tr>
                            <tr>
                                <td><code>m_nl_btw_number</code></td>
                                <td>[NL] BTW Number</td>
                                <td>Billing Country = NL</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Properties are grouped per billing country and conditionally visible.</p>
                </div>

                <div class="content-section">
                    <h3>Pipeline Strategy</h3>
                    <p><strong>A single global Revenue pipeline is used.</strong></p>
                    
                    <p>Segmentation happens via:</p>
                    <ul>
                        <li><code>[Global] Market</code></li>
                        <li><code>[Global] Deal Type</code></li>
                        <li><code>[Global] Sales Team</code></li>
                    </ul>
                    
                    <div class="insight-box">
                        <strong>Key Decision:</strong> Multiple pipelines are introduced only if sales motions fundamentally diverge.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="page detail-page" id="part3">
        <header class="detail-header">
            <div class="detail-header-inner">
                <button class="detail-back" onclick="showPage('hub')">← Back to Overview</button>
                <div class="detail-nav">
                    <button onclick="showPage('part2')">←</button>
                    <button onclick="showPage('part4')">→</button>
                </div>
            </div>
        </header>
        <div class="detail-container">
            <div class="detail-content">
                <span class="detail-badge">Part 3 of 4</span>
                <h1 class="detail-title">Automation & AI</h1>
                <p class="detail-subtitle">Churn risk detection. Expansion opportunity surfacing. Human-in-the-loop.</p>
                
                <div class="section-assumptions">
                    <h4>✓ Part 3 Assumptions</h4>
                    <ul>
                        <li>Product usage data is a reliable leading indicator for both churn and expansion risk</li>
                        <li>Stripe is the system of record for cancellations and billing status</li>
                        <li>Intercom is the system of record for support interactions and CSAT</li>
                        <li>Automation should support human decision-making, not replace it</li>
                        <li>False positives are more damaging to trust than missed opportunities</li>
                        <li>HubSpot is the action layer; complex logic may live outside HubSpot</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>How Part 3 Works</h3>
                    <p><strong>Automation translates signals into context, not decisions.</strong></p>
                    <p>Product, billing, and support systems generate large volumes of signals. Automation's role is to filter, correlate, and explain those signals so humans can act at the right moment.</p>
                    <p>Automation highlights risk and opportunity, while ownership and judgment remain with people.</p>
                </div>

                <div class="content-section">
                    <h3>Automation 1 — Churn Risk Detection</h3>
                    
                    <h4>Business Problem</h4>
                    <p>Customer churn is often visible weeks before cancellation, but those signals are scattered:</p>
                    <ul>
                        <li>Product usage slowly declines</li>
                        <li>Users stop logging in</li>
                        <li>Support sentiment worsens</li>
                        <li>Cancellation is scheduled silently in Stripe</li>
                    </ul>
                    <p>CS teams cannot manually monitor thousands of accounts. By the time a cancellation happens, it is often too late to intervene.</p>
                    <p><strong>Goal:</strong> Proactively surface accounts that are likely to churn early enough for meaningful action — without overwhelming CS with noise.</p>

                    <h4>Trigger Signals (Explained)</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Signal</th>
                                <th>Source</th>
                                <th>Why It Matters</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Usage drop</td>
                                <td>Product DB</td>
                                <td>Sustained decline often indicates loss of value or relevance</td>
                            </tr>
                            <tr>
                                <td>Inactivity</td>
                                <td>Product DB</td>
                                <td>No logins over time suggests disengagement</td>
                            </tr>
                            <tr>
                                <td>Low CSAT</td>
                                <td>Intercom</td>
                                <td>Negative sentiment often precedes churn</td>
                            </tr>
                            <tr>
                                <td>Cancellation scheduled</td>
                                <td>Stripe</td>
                                <td>Explicit intent to churn — highest severity signal</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="insight-box">
                        <strong>No single signal is trusted on its own.</strong> Churn risk emerges from patterns, not events.
                    </div>

                    <h4>High-Level Logic</h4>
                    <ul>
                        <li><strong>Daily evaluation</strong> of active customers</li>
                        <li><strong>Fetch latest</strong> usage, billing, and support data</li>
                        <li><strong>Evaluate</strong> which churn signals are present</li>
                        <li><strong>Assign churn risk level:</strong>
                            <ul>
                                <li>One weak signal → Medium (monitor only)</li>
                                <li>Two or more signals → High (human follow-up)</li>
                                <li>Cancellation scheduled → Critical (immediate action)</li>
                            </ul>
                        </li>
                        <li><strong>Update</strong> churn risk property on Company</li>
                        <li><strong>Create</strong> tasks and alerts based on severity</li>
                    </ul>
                    <p><em>Automation stops short of deciding what to do — it only decides who should look and why.</em></p>

                    <h4>Tools Involved (and Why)</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Tool</th>
                                <th>Role</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>HubSpot</td>
                                <td>Stores churn risk state, owns tasks and ownership</td>
                            </tr>
                            <tr>
                                <td>Product API</td>
                                <td>Provides usage and activity signals</td>
                            </tr>
                            <tr>
                                <td>Stripe</td>
                                <td>Provides cancellation and billing status</td>
                            </tr>
                            <tr>
                                <td>Intercom</td>
                                <td>Provides CSAT and support sentiment</td>
                            </tr>
                            <tr>
                                <td>Make / n8n</td>
                                <td>Orchestrates multi-source logic and safeguards</td>
                            </tr>
                            <tr>
                                <td>Slack</td>
                                <td>Surfaces critical alerts instantly</td>
                            </tr>
                        </tbody>
                    </table>
                    <p><strong>HubSpot is the action layer.</strong> Make/n8n handles cross-system logic and validation.</p>

                    <h4>Potential Failure Modes & Safeguards</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Failure Mode</th>
                                <th>Risk</th>
                                <th>Safeguard</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>False Positives</strong><br>(Vacation, Seasonality)</td>
                                <td>CSM wastes time on healthy customers</td>
                                <td>Multi-signal requirement; onboarding and seasonal exceptions</td>
                            </tr>
                            <tr>
                                <td><strong>Alert Fatigue</strong></td>
                                <td>CSMs ignore alerts altogether</td>
                                <td>Tasks only for High/Critical; rate limits per company</td>
                            </tr>
                            <tr>
                                <td><strong>Stale or Missing Data</strong></td>
                                <td>Automation reacts to outdated usage or billing data</td>
                                <td>Data freshness checks; automation pauses if sync is stale</td>
                            </tr>
                            <tr>
                                <td><strong>Orphaned Tasks</strong></td>
                                <td>Task assigned to inactive owner; no one acts</td>
                                <td>Owner fallback logic to CS Lead or shared queue</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Outcome</h4>
                    <p>CS teams receive actionable, trustworthy alerts that explain why an account is at risk — early enough to intervene.</p>
                    <div class="insight-box">
                        <strong>Automation sets context, not outcomes.</strong>
                    </div>
                </div>

                <div class="content-section">
                    <h3>Automation 2 — Expansion Opportunity Detection</h3>
                    
                    <h4>Business Problem</h4>
                    <p>In a PLG model, customers often outgrow their plan naturally:</p>
                    <ul>
                        <li>More users than licenses</li>
                        <li>Hitting feature limits</li>
                        <li>Increased activity over time</li>
                    </ul>
                    <p>These expansion signals exist in product data but are invisible to humans unless surfaced intentionally.</p>
                    <p>At the same time, automatically converting every signal into a Deal:</p>
                    <ul>
                        <li>Pollutes pipeline</li>
                        <li>Breaks forecast accuracy</li>
                        <li>Creates internal distrust</li>
                    </ul>
                    <p><strong>Goal:</strong> Surface expansion opportunities without forcing revenue decisions prematurely.</p>

                    <h4>Trigger Signals (Explained)</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Signal</th>
                                <th>Source</th>
                                <th>Why It Matters</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Seat overages</td>
                                <td>Product DB</td>
                                <td>Direct indication of plan mismatch</td>
                            </tr>
                            <tr>
                                <td>Feature limit hits</td>
                                <td>Product DB</td>
                                <td>Customer testing higher-tier value</td>
                            </tr>
                            <tr>
                                <td>Sustained high usage</td>
                                <td>Product DB</td>
                                <td>Growth signal, not a one-off spike</td>
                            </tr>
                            <tr>
                                <td>Active subscription</td>
                                <td>Stripe</td>
                                <td>Confirms expansion is possible</td>
                            </tr>
                        </tbody>
                    </table>
                    <p><em>Signals must be sustained over time, not momentary.</em></p>

                    <h4>High-Level Logic</h4>
                    <ul>
                        <li><strong>Monitor</strong> usage and license data daily</li>
                        <li><strong>Detect</strong> sustained plan overages or feature limit hits</li>
                        <li><strong>Verify:</strong>
                            <ul>
                                <li>Customer is active</li>
                                <li>Not already upgrading in-app</li>
                                <li>No open expansion deal exists</li>
                            </ul>
                        </li>
                        <li><strong>Create a task</strong> for the account owner</li>
                        <li><strong>Populate recommendation fields</strong> explaining:
                            <ul>
                                <li>What changed</li>
                                <li>What the system suggests</li>
                                <li>Why this matters now</li>
                            </ul>
                        </li>
                    </ul>
                    <p><em>Automation never creates pipeline pressure automatically.</em></p>

                    <h4>Tools Involved (and Why)</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Tool</th>
                                <th>Role</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>HubSpot</td>
                                <td>Task creation, ownership, recommendation fields</td>
                            </tr>
                            <tr>
                                <td>Product API</td>
                                <td>Provides usage, license, feature data</td>
                            </tr>
                            <tr>
                                <td>Stripe</td>
                                <td>Confirms billing status</td>
                            </tr>
                            <tr>
                                <td>HubSpot Ops Hub / Make</td>
                                <td>Handles thresholds and sustained conditions</td>
                            </tr>
                        </tbody>
                    </table>
                    <p><strong>HubSpot remains the decision interface for humans.</strong></p>

                    <h4>Potential Failure Modes & Safeguards</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Failure Mode</th>
                                <th>Risk</th>
                                <th>Safeguard</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Seasonal or Temporary Spikes</strong></td>
                                <td>Customer hires short-term workers; not a real expansion</td>
                                <td>Sustained usage thresholds and rolling averages</td>
                            </tr>
                            <tr>
                                <td><strong>Duplicate or Premature Deals</strong></td>
                                <td>Inflated pipeline and forecasting errors</td>
                                <td>Task-first model; deal created only after confirmation</td>
                            </tr>
                            <tr>
                                <td><strong>Wrong Pricing Assumptions</strong></td>
                                <td>Deal amount doesn't match real billing</td>
                                <td>Recommendation fields, not auto-calculated revenue</td>
                            </tr>
                            <tr>
                                <td><strong>Awkward Outreach</strong></td>
                                <td>Customer already upgrading self-serve</td>
                                <td>Check "in upgrade flow" flag before task creation</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Output (Final)</h4>
                    <ul>
                        <li><strong>Task created, not Deal</strong></li>
                        <li><strong>Recommendation fields populated:</strong>
                            <ul>
                                <li>Suggested next plan</li>
                                <li>Office seat delta</li>
                                <li>Mobile seat delta</li>
                                <li>Trigger explanation</li>
                            </ul>
                        </li>
                        <li><strong>Deal created only after human confirmation</strong></li>
                    </ul>
                    
                    <div class="insight-box">
                        <strong>This preserves:</strong> Forecast accuracy, pipeline credibility, and cross-team trust.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="page detail-page" id="part4">
        <header class="detail-header">
            <div class="detail-header-inner">
                <button class="detail-back" onclick="showPage('hub')">← Back to Overview</button>
                <div class="detail-nav">
                    <button onclick="showPage('part3')">←</button>
                    <button disabled>→</button>
                </div>
            </div>
        </header>
        <div class="detail-container">
            <div class="detail-content">
                <span class="detail-badge">Part 4 of 4</span>
                <h1 class="detail-title">Data Governance & Scale</h1>
                <p class="detail-subtitle">Naming conventions. Workflow governance. Experimentation framework.</p>
                
                <div class="section-assumptions">
                    <h4>✓ Part 4 Assumptions</h4>
                    <ul>
                        <li>50+ GTM users with varying CRM skill levels</li>
                        <li>High experimentation velocity</li>
                        <li>Executive pressure to move fast</li>
                        <li>RevOps exists as a central governance function</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>How Part 4 Works</h3>
                    <p><strong>Governance exists to enable speed without irreversible damage.</strong> It must be visible, enforced, and resilient under pressure.</p>
                </div>

                <div class="content-section">
                    <h3>Property Governance</h3>
                    <h4>Naming Conventions</h4>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Prefix</th>
                                <th>Meaning</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>g_</code></td>
                                <td>Global (all markets)</td>
                            </tr>
                            <tr>
                                <td><code>m_xx_</code></td>
                                <td>Market-specific</td>
                            </tr>
                            <tr>
                                <td><code>sync_</code></td>
                                <td>External system (read-only)</td>
                            </tr>
                            <tr>
                                <td><code>auto_</code></td>
                                <td>Automation (don't edit)</td>
                            </tr>
                            <tr>
                                <td><code>exp_</code></td>
                                <td>Experimental (isolated)</td>
                            </tr>
                            <tr>
                                <td><code>temp_</code></td>
                                <td>Temporary (has expiry)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="content-section">
                    <h3>Workflow Governance</h3>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Who</th>
                                <th>Scope</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>GTM users</td>
                                <td>Views, lists, reports</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>GTM + RevOps</td>
                                <td>Non-destructive workflows</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>RevOps</td>
                                <td>Properties, integrations</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="content-section">
                    <h3>Experimentation Framework</h3>
                    <ul>
                        <li>Experiments use <code>exp_</code> namespace</li>
                        <li>Cannot overwrite global or revenue data</li>
                        <li>Auto-expire after 60 days</li>
                        <li>Must be rebuilt (not renamed) to go live</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>Operational Hygiene</h3>
                    <ul>
                        <li>Monthly CRM hygiene review</li>
                        <li>Experiment expiration dashboard</li>
                        <li>Orphaned workflow audits</li>
                        <li>Property growth reviews</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>Final Statement</h3>
                    <p>This architecture balances:</p>
                    <ul>
                        <li>Simplicity and scalability</li>
                        <li>Governance and experimentation</li>
                        <li>Standardization and localization</li>
                    </ul>
                    <div class="insight-box">
                        <strong>Core Philosophy:</strong> This architecture is designed to grow with Plancraft without forcing a rebuild and to remain trusted by the teams who rely on it every day.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.getElementById(pageId).scrollTop = 0;
        }
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const activePage = document.querySelector('.page.active');
                if (activePage && activePage.id !== 'welcome' && activePage.id !== 'hub') {
                    showPage('hub');
                } else if (activePage && activePage.id === 'hub') {
                    showPage('welcome');
                }
            }
        });
    </script>
</body>
</html>
